
@{
    ViewData["Title"] = "FirstAjax";
}

<h1>FirstAjax</h1>
<input type="text" id="text01" />
<button class="btn btn-primary" id="butten01">Click</button>
<div id="div01" class="alert-info mt-3 p-3 w-25"></div>
@section Scripts{
    <script>
        const btn =document.querySelector("#butten01");
        const theDiv = document.querySelector("#div01");
        const txt =document.querySelector("#text01")
        btn.addEventListener(`click`,()=>{
            //步驟一建立Ajax物件
            const xhr =new XMLHttpRequest();

            //步驟三接收伺服器回傳的結果
            xhr.addEventListener('load',()=>{
                //接收資料
                const data =xhr.responseText;
                //顯示資料
                theDiv.innerHTML=`<h2>${data}</h2>`
            })


  //步驟二發出要求
       //open("Http Method(GET、POST、PUT、DELETE)", "伺服器端的程式", 同步或非同步(預設))
       xhr.open("GET",`/Api/index?name=${txt.value}`);
       xhr.send();

        })
      
    </script>
}